:root {
  --admin-bg: #0f1115;
  --admin-surface: #171b22;
  --admin-surface-2: #1d232d;
  --admin-border: #2b3442;
  --admin-text: #d8e0ea;
  --admin-muted: #8d98a8;
  --admin-accent: #0fb9b1;
  --admin-accent-2: #0a8f89;
}

.admin-page {
  margin: 0;
  background: var(--admin-bg);
  color: var(--admin-text);
  font-family: Inter, "Segoe UI", Roboto, system-ui, sans-serif;
}

.admin-header {
  background: var(--admin-surface);
  border-bottom: 1px solid var(--admin-border);
  box-shadow: inset 0 -1px 0 rgba(255,255,255,0.03);
}

.admin-header-left {
  display: flex;
  align-items: center;
  gap: 10px;
}

.admin-badge {
  background:
    linear-gradient(var(--admin-surface), var(--admin-surface)) padding-box,
    linear-gradient(135deg, rgba(15,185,177,0.6), rgba(255,214,0,0.46)) border-box;
  color: #a9fcf5;
  border: 1px solid transparent;
  border-radius: 6px;
  padding: 3px 9px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  position: relative;
}

.admin-badge::before,
.admin-badge::after {
  content: "";
  position: absolute;
  width: 6px;
  height: 6px;
  border-top: 2px solid #ffd600;
}

.admin-badge::before {
  top: -3px;
  left: -3px;
  border-left: 2px solid #ffd600;
}

.admin-badge::after {
  right: -3px;
  bottom: -3px;
  border-right: 2px solid #ffd600;
  border-bottom: 2px solid #ffd600;
}

.admin-header-actions {
  display: flex;
  align-items: center;
  gap: 10px;
}

.admin-header-actions a {
  color: var(--admin-muted);
}

.admin-header-actions a:hover {
  color: var(--admin-text);
  text-decoration: none;
}

.admin-header-actions .nav-link {
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(15,185,177,0.24);
  color: #a4d9df;
}

.admin-header-actions .nav-link:hover {
  border-color: rgba(15,185,177,0.5);
  color: #ddf7ff;
}

.admin-logout-btn {
  width: auto;
  min-width: 76px;
  padding: 0 12px;
  background:
    linear-gradient(var(--admin-surface), var(--admin-surface)) padding-box,
    linear-gradient(135deg, rgba(15,185,177,0.38), rgba(255,214,0,0.34)) border-box;
  border: 1px solid transparent;
  color: #b8d5de;
  border-radius: 8px;
  font-size: 0.78rem;
  font-weight: 600;
}

.admin-logout-btn:hover {
  color: #ffe06b;
  border-color: transparent;
}

.admin-shell {
  display: block;
  width: min(1650px, calc(100% - 24px));
  margin: 14px auto 24px;
}

.admin-topnav {
  position: sticky;
  top: var(--header-h);
  z-index: 80;
  display: flex;
  gap: 8px;
  align-items: center;
  padding: 8px 12px;
  margin: 0 auto;
  width: min(1650px, calc(100% - 24px));
  background: var(--admin-surface);
  border: 1px solid var(--admin-border);
  border-radius: 10px;
  overflow-x: auto;
}

.admin-nav-btn {
  border: 1px solid transparent;
  background: transparent;
  color: var(--admin-text);
  text-align: left;
  padding: 10px 12px;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 600;
}

.admin-nav-btn:hover {
  background: var(--admin-surface-2);
  border-color: var(--admin-border);
}

.admin-nav-btn.active {
  background: rgba(15, 185, 177, 0.16);
  border-color: rgba(15, 185, 177, 0.55);
  color: #c8fffb;
}

.admin-workspace {
  min-width: 0;
}

.admin-panel {
  display: none;
  background: var(--admin-surface);
  border: 1px solid var(--admin-border);
  border-radius: 12px;
  padding: 14px;
}

.admin-panel.active {
  display: block;
}

.panel-head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 12px;
  border-bottom: 1px solid var(--admin-border);
  padding-bottom: 10px;
}

.panel-head h2 {
  margin: 0;
  font-size: 18px;
  color: #f4f8ff;
}

.panel-head p {
  margin: 0;
  font-size: 12px;
  color: var(--admin-muted);
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(120px, 1fr));
  gap: 10px;
}

.stats-grid.compact {
  margin-bottom: 12px;
}

.stat-card {
  background: var(--admin-surface-2);
  border: 1px solid var(--admin-border);
  border-radius: 10px;
  padding: 12px;
}

.stat-val {
  font-size: 24px;
  font-weight: 700;
  line-height: 1.05;
  color: #f5fbff;
}

.stat-label {
  margin-top: 6px;
  font-size: 11px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--admin-muted);
}

.overview-grid,
.rounds-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.main-actions-grid {
  align-items: start;
}

.card-box {
  background: var(--admin-surface-2);
  border: 1px solid var(--admin-border);
  border-radius: 10px;
  padding: 12px;
}

.card-box.slim {
  margin-top: 12px;
}

.card-box h3 {
  margin: 0 0 10px;
  font-size: 13px;
  text-transform: uppercase;
  letter-spacing: 0.07em;
  color: var(--admin-muted);
}

.overview-dashboard {
  margin-top: 12px;
  display: grid;
  gap: 10px;
}

.overview-metrics-primary,
.overview-metrics-secondary {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
}

.overview-metrics-primary .stat-card,
.overview-metrics-secondary .stat-card {
  display: grid;
  gap: 4px;
  align-content: center;
  min-height: 84px;
}

.overview-metrics-primary .stat-card {
  background:
    linear-gradient(180deg, rgba(15,185,177,0.16), rgba(15,185,177,0.06)),
    var(--admin-surface-2);
  border-color: rgba(15,185,177,0.35);
}

.overview-metrics-primary .stat-val {
  font-size: clamp(1.5rem, 2.1vw, 2rem);
  color: #e9fffd;
}

.overview-metrics-secondary .stat-card {
  min-height: 70px;
  background: rgba(255,255,255,0.02);
}

.overview-metrics-secondary .stat-val {
  font-size: clamp(1.05rem, 1.5vw, 1.35rem);
  color: #f2f7ff;
}

.overview-metrics-secondary .stat-label {
  font-size: 10px;
}

.overview-bottom {
  margin-top: 10px;
  align-items: start;
}

.overview-feed-card {
  min-height: 320px;
}

.overview-feed-card #health-overview,
.overview-feed-card #recent-rounds {
  max-height: 256px;
}

.data-list {
  max-height: 340px;
  overflow: auto;
}

.user-card {
  background: #11161d;
  border: 1px solid var(--admin-border);
  border-radius: 10px;
  padding: 10px 12px;
  display: grid;
  gap: 6px;
}

.user-card-top {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 10px;
}

.user-email {
  margin: 0;
  font-size: 13px;
  font-weight: 700;
  color: #f2f8ff;
}

.user-meta,
.user-stats,
.user-latest {
  margin: 0;
  font-size: 12px;
  color: var(--admin-muted);
  line-height: 1.45;
}

.user-stats {
  color: #cdd8e7;
}

.data-list.tall {
  max-height: 620px;
}

.rounds-list {
  background: #11161d;
  border: 1px solid var(--admin-border);
  border-radius: 8px;
  padding: 8px;
}

.round-row {
  background: var(--admin-surface-2);
  border: 1px solid var(--admin-border);
  border-radius: 8px;
  padding: 8px 10px;
}

.round-row + .round-row {
  margin-top: 8px;
}

.round-row-meta {
  overflow-wrap: anywhere;
}

.log-meta {
  margin-top: 6px;
}

.log-meta summary {
  cursor: pointer;
  color: var(--admin-muted);
  font-size: 11px;
}

.log-meta pre {
  margin: 6px 0 0;
  padding: 8px;
  border-radius: 6px;
  background: #0b0f14;
  color: #c3d0df;
  font-size: 11px;
  line-height: 1.45;
  white-space: pre-wrap;
}

.health-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(160px, 1fr));
  gap: 8px;
}

.health-item {
  background: #161d27;
  border: 1px solid var(--admin-border);
  border-radius: 8px;
  padding: 10px;
}

.health-item-title {
  margin: 0 0 4px;
  font-size: 11px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--admin-muted);
}

.health-item-value {
  margin: 0;
  font-size: 13px;
  font-weight: 600;
  color: #eef6ff;
  display: flex;
  align-items: center;
  gap: 6px;
}

.health-dot {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  display: inline-block;
}

.health-dot.ok {
  background: #19d692;
  box-shadow: 0 0 0 3px rgba(25, 214, 146, 0.18);
}

.health-dot.down {
  background: #eb5f76;
  box-shadow: 0 0 0 3px rgba(235, 95, 118, 0.16);
}

.ml-progress-wrap,
.ml-control-wrap,
.computed-times,
.round-preview {
  background: #11161d;
  border: 1px solid var(--admin-border);
}

.ml-core-grid {
  display: grid;
  grid-template-columns: 1.6fr 1fr;
  gap: 12px;
  margin-bottom: 12px;
}

.ml-subnav {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 12px;
  padding: 8px;
  border: 1px solid var(--admin-border);
  border-radius: 10px;
  background: #11161d;
}

.ml-subnav-btn {
  border: 1px solid var(--admin-border);
  background: #18212c;
  color: #c8d7ea;
  border-radius: 999px;
  font-size: 11px;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  font-weight: 700;
  padding: 6px 10px;
}

.ml-subnav-btn:hover {
  border-color: rgba(15, 185, 177, 0.45);
  color: #e8fbff;
}

.ml-subnav-btn.active {
  border-color: rgba(15, 185, 177, 0.65);
  background: rgba(15, 185, 177, 0.18);
  color: #d8fffc;
}

.ml-section[hidden] {
  display: none !important;
}

.ml-status-chip {
  display: inline-flex;
  align-items: center;
  border-radius: 999px;
  border: 1px solid var(--admin-border);
  padding: 3px 8px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: #9db0c6;
  background: rgba(137, 154, 178, 0.12);
}

.ml-status-chip.enabled-active {
  color: #9af5d4;
  background: rgba(25, 214, 146, 0.15);
  border-color: rgba(25, 214, 146, 0.35);
}

.ml-status-chip.enabled-idle {
  color: #f6cd93;
  background: rgba(241, 179, 124, 0.18);
  border-color: rgba(241, 179, 124, 0.35);
}

.ml-status-chip.disabled {
  color: #ffafbe;
  background: rgba(235, 95, 118, 0.2);
  border-color: rgba(235, 95, 118, 0.42);
}

.ml-core-card {
  background: #11161d;
  border: 1px solid var(--admin-border);
  border-radius: 10px;
  padding: 12px;
}

.ml-core-card h3 {
  margin: 0 0 10px;
  font-size: 13px;
  letter-spacing: 0.07em;
  text-transform: uppercase;
  color: var(--admin-muted);
}

.ml-pipeline-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(180px, 1fr));
  gap: 10px;
}

.ml-pipeline-item {
  background: #0f141c;
  border: 1px solid var(--admin-border);
  border-radius: 9px;
  padding: 10px;
}

.ml-pipeline-item.is-actionable {
  cursor: pointer;
}

.ml-pipeline-item.is-actionable:hover,
.ml-pipeline-item.is-actionable:focus-visible {
  border-color: rgba(15, 185, 177, 0.65);
  box-shadow: 0 0 0 2px rgba(15, 185, 177, 0.16);
  outline: none;
}

.ml-pipeline-item.status-ok {
  border-color: rgba(25, 214, 146, 0.45);
  background: rgba(18, 40, 34, 0.45);
}

.ml-pipeline-item.status-warn {
  border-color: rgba(241, 179, 124, 0.45);
  background: rgba(56, 41, 24, 0.4);
}

.ml-pipeline-item.status-fail {
  border-color: rgba(235, 95, 118, 0.5);
  background: rgba(54, 23, 29, 0.45);
}

.ml-pipeline-title {
  margin: 0 0 5px;
  font-size: 11px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--admin-muted);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.ml-pipe-badge {
  display: inline-flex;
  align-items: center;
  border-radius: 999px;
  border: 1px solid var(--admin-border);
  padding: 2px 7px;
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: #9db0c6;
  background: rgba(137, 154, 178, 0.12);
}

.ml-pipe-badge.status-ok {
  color: #9af5d4;
  background: rgba(25, 214, 146, 0.15);
  border-color: rgba(25, 214, 146, 0.35);
}

.ml-pipe-badge.status-warn {
  color: #f6cd93;
  background: rgba(241, 179, 124, 0.18);
  border-color: rgba(241, 179, 124, 0.35);
}

.ml-pipe-badge.status-fail {
  color: #ffafbe;
  background: rgba(235, 95, 118, 0.2);
  border-color: rgba(235, 95, 118, 0.42);
}

.ml-diag-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 8px 0;
  border-bottom: 1px dashed rgba(255, 255, 255, 0.08);
}

.ml-diag-row:last-child {
  border-bottom: 0;
}

.ml-diag-text {
  min-width: 0;
}

.ml-diag-name {
  margin: 0;
  color: #eef6ff;
  font-size: 12px;
  font-weight: 700;
}

.ml-diag-detail {
  margin: 2px 0 0;
  color: var(--admin-muted);
  font-size: 12px;
  line-height: 1.35;
}

.ml-pipeline-value {
  margin: 0 0 4px;
  color: #eff8ff;
  font-size: 15px;
  font-weight: 700;
}

.ml-pipeline-sub {
  margin: 0;
  color: #9cb0c7;
  font-size: 12px;
}

.ml-ops-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(260px, 1fr));
  gap: 12px;
}

.ml-ops-grid.single-view {
  grid-template-columns: 1fr;
}

.ml-ops-grid.single-view .card-box.slim {
  margin-top: 0;
}

.ml-progress-fill {
  background: linear-gradient(90deg, var(--admin-accent), var(--admin-accent-2));
}

.ml-kpi-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(150px, 1fr));
  gap: 10px;
  margin-bottom: 12px;
}

.ml-kpi-card {
  background: #11161d;
  border: 1px solid var(--admin-border);
  border-radius: 10px;
  padding: 12px;
}

.ml-kpi-label {
  margin: 0;
  font-size: 11px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--admin-muted);
}

.ml-kpi-value {
  margin: 8px 0 4px;
  font-size: 26px;
  font-weight: 700;
  color: #f5fbff;
}

.ml-kpi-level {
  margin: 10px 0 4px;
  display: inline-flex;
  align-items: center;
  border-radius: 999px;
  border: 1px solid var(--admin-border);
  padding: 5px 10px;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.ml-kpi-level.level-unknown {
  color: #aeb8c6;
  background: rgba(137, 154, 178, 0.12);
}

.ml-kpi-level.level-bronze {
  color: #f1b37c;
  background: rgba(178, 106, 48, 0.18);
  border-color: rgba(178, 106, 48, 0.38);
}

.ml-kpi-level.level-silver {
  color: #c5d4e7;
  background: rgba(112, 139, 166, 0.2);
  border-color: rgba(112, 139, 166, 0.45);
}

.ml-kpi-level.level-gold {
  color: #f5d46c;
  background: rgba(179, 145, 25, 0.2);
  border-color: rgba(179, 145, 25, 0.45);
}

.ml-kpi-level.level-platinum {
  color: #8ff6ea;
  background: rgba(15, 185, 177, 0.2);
  border-color: rgba(15, 185, 177, 0.45);
}

.ml-kpi-sub {
  margin: 0;
  color: var(--admin-muted);
  font-size: 12px;
}

.ml-health-grid {
  display: grid;
  grid-template-columns: 1.3fr 1fr;
  gap: 12px;
  margin-bottom: 12px;
}

.ml-health-card {
  background: #11161d;
  border: 1px solid var(--admin-border);
  border-radius: 10px;
  padding: 12px;
}

.ml-health-card h3 {
  margin: 0 0 10px;
  font-size: 13px;
  letter-spacing: 0.07em;
  text-transform: uppercase;
  color: var(--admin-muted);
}

.ml-health-rows {
  display: grid;
  gap: 10px;
}

.ml-health-row-head {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  font-size: 12px;
  color: #c7d4e4;
  margin-bottom: 5px;
}

.ml-health-row-head strong {
  color: #f0f7ff;
}

.ml-health-bar {
  height: 9px;
  border-radius: 999px;
  overflow: hidden;
  border: 1px solid var(--admin-border);
  background: #0c1118;
}

.ml-health-fill {
  height: 100%;
  width: 0%;
  border-radius: 999px;
  background: linear-gradient(90deg, #0b8f87, #12d6cd);
  transition: width 220ms ease;
}

.field input,
.field select,
#taskStatusUpdate {
  background: #131a22;
  border: 1px solid var(--admin-border);
  color: var(--admin-text);
}

.field input:focus,
.field select:focus {
  outline: none;
  border-color: var(--admin-accent);
}

.btn-primary {
  background: var(--admin-accent);
  color: #042e2b;
  font-weight: 700;
}

.btn-primary:hover:not(:disabled) {
  background: #16cfc7;
}

.btn-secondary {
  background: #1a212b;
  border: 1px solid var(--admin-border);
  color: var(--admin-text);
}

.btn-secondary:hover {
  border-color: var(--admin-accent);
}

@media (max-width: 1200px) {
  .stats-grid {
    grid-template-columns: repeat(2, minmax(120px, 1fr));
  }

  .overview-metrics-primary,
  .overview-metrics-secondary {
    grid-template-columns: repeat(2, minmax(120px, 1fr));
  }

  .overview-grid,
  .rounds-grid {
    grid-template-columns: 1fr;
  }

  .ml-core-grid {
    grid-template-columns: 1fr;
  }

  .ml-pipeline-grid {
    grid-template-columns: 1fr 1fr;
  }

  .ml-ops-grid {
    grid-template-columns: 1fr;
  }

  .ml-kpi-grid {
    grid-template-columns: repeat(2, minmax(140px, 1fr));
  }

  .ml-health-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 640px) {
  .ml-subnav {
    gap: 6px;
    padding: 7px;
  }

  .ml-subnav-btn {
    font-size: 10px;
    padding: 5px 8px;
  }

  .overview-metrics-primary,
  .overview-metrics-secondary {
    grid-template-columns: 1fr;
  }

  .overview-metrics-primary .stat-card,
  .overview-metrics-secondary .stat-card {
    min-height: 64px;
  }

  .overview-feed-card {
    min-height: 260px;
  }

  .ml-pipeline-grid {
    grid-template-columns: 1fr;
  }

  .user-card-top {
    flex-direction: column;
    align-items: flex-start;
  }
}

@media (max-width: 900px) {
  .admin-shell {
    width: calc(100% - 14px);
    margin-top: 10px;
  }

  .admin-topnav {
    width: calc(100% - 14px);
    top: var(--header-h);
    margin-top: 8px;
  }

  .admin-panel {
    padding: 12px;
  }

  .stat-val {
    font-size: 20px;
  }
}
